export function timeout(e,t){let r=e;if("string"==typeof e){let t=e.replace(/^\d+/,"");switch(r=parseInt(e,10),t){case"s":r*=1e3;break;case"M":r*=6e4;break;case"H":r*=36e5;break;default:r=0}}return 0===r?t:new Promise((a,n)=>{setTimeout(()=>n(new Error(`Timeout after ${e}`)),r),t.then(a,n)})}export async function request(e,t,r){let a=fetch(e,r),n=await timeout(t,a);if(!n.ok){let e=await n.text();throw Error(`${e.trim()} (${n.status})`)}return"application/json"===n.headers.get("content-type")?await n.json():await n.text()}export function cloneObject(e){return JSON.parse(JSON.stringify(e))}export function getActiveUser(){let e=localStorage.getItem("duit-user")||"null";return JSON.parse(e)}export function searchTree(e,t,r){if("object"!=typeof r&&(r=null),!Array.isArray(e)||0===e.length)return null;for(let a=0;a<e.length;a++){let n=e[a];if(n.value===t)return{data:n,parent:r};let o=searchTree(n.children,t,n);if(null!=o)return o}return null}export function debounce(e,t){let r;return function(){const a=()=>e.apply(this,arguments);clearTimeout(r),r=setTimeout(a,t)}}export function evalMath(e){if(""!==e)try{return Number(Function(`"use strict";return (${e})`)())}catch(e){return e.message}}export function copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.opacity="0",t.style.maxWidth="0",t.style.maxHeight="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}export function mergeObject(e,t){let r=cloneObject(e);for(const e in t)r[e]=t[e];return r}export function formatNumber(e){return Number(e).toLocaleString("id-ID",{maximumFractionDigits:0})}export function getDateParts(e){let t=e.split("-");return{year:parseInt(t[0],10)||1,month:parseInt(t[1],10)||1,day:parseInt(t[2],10)||1}}export function formatDate(e){let t=getDateParts(e),r="";switch(t.month){case 1:r="Januari";break;case 2:r="Februari";break;case 3:r="Maret";break;case 4:r="April";break;case 5:r="Mei";break;case 6:r="Juni";break;case 7:r="Juli";break;case 8:r="Agustus";break;case 9:r="September";break;case 10:r="Oktober";break;case 11:r="November";break;case 12:r="Desember"}return`${t.day} ${r} ${t.year}`}