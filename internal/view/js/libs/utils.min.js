export function timeout(e,t){let r=e;if("string"==typeof e){let t=e.replace(/^\d+/,"");switch(r=parseInt(e,10),t){case"s":r*=1e3;break;case"M":r*=6e4;break;case"H":r*=36e5;break;default:r=0}}return 0===r?t:new Promise((n,o)=>{setTimeout(()=>o(new Error(`Timeout after ${e}`)),r),t.then(n,o)})}export async function request(e,t,r){let n=fetch(e,r),o=await timeout(t,n);if(!o.ok){let e=await o.text();throw Error(`${e.trim()} (${o.status})`)}return"application/json"===o.headers.get("content-type")?await o.json():await o.text()}export function cloneObject(e){return JSON.parse(JSON.stringify(e))}export function getActiveUser(){let e=localStorage.getItem("duit-user")||"null";return JSON.parse(e)}export function mergeObject(e,t){let r=cloneObject(e);for(const e in t)r[e]=t[e];return r}