var DP=20,RM=1,MAX_DP=1e6,MAX_POWER=1e6,NE=-7,PE=21,NAME="[big.js] ",INVALID=NAME+"Invalid ",INVALID_DP=INVALID+"decimal places",INVALID_RM=INVALID+"rounding mode",DIV_BY_ZERO=NAME+"Division by zero",P={},UNDEFINED=void 0,NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _Big_(){function r(e){var t=this;if(!(t instanceof r))return e===UNDEFINED?_Big_():new r(e);e instanceof r?(t.s=e.s,t.e=e.e,t.c=e.c.slice()):parse(t,e),t.constructor=r}return r.prototype=P,r.DP=DP,r.RM=RM,r.NE=NE,r.PE=PE,r.version="5.2.2",r}function parse(r,e){var t,n,i;if(0===e&&1/e<0)e="-0";else if(!NUMERIC.test(e+=""))throw Error(INVALID+"number");for(r.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)r.c=[r.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(r.e=t-n-1,r.c=[],t=0;n<=i;)r.c[t++]=+e.charAt(n++)}return r}function round(r,e,t,n){var i=r.c,s=r.e+e+1;if(s<i.length){if(1===t)n=i[s]>=5;else if(2===t)n=i[s]>5||5==i[s]&&(n||s<0||i[s+1]!==UNDEFINED||1&i[s-1]);else if(3===t)n=n||!!i[0];else if(n=!1,0!==t)throw Error(INVALID_RM);if(s<1)i.length=1,n?(r.e=-e,i[0]=1):i[0]=r.e=0;else{if(i.length=s--,n)for(;++i[s]>9;)i[s]=0,s--||(++r.e,i.unshift(1));for(s=i.length;!i[--s];)i.pop()}}else if(t<0||t>3||t!==~~t)throw Error(INVALID_RM);return r}function stringify(r,e,t,n){var i,s,o=r.constructor,f=!r.c[0];if(t!==UNDEFINED){if(t!==~~t||t<(3==e)||t>MAX_DP)throw Error(3==e?INVALID+"precision":INVALID_DP);for(t=n-(r=new o(r)).e,r.c.length>++n&&round(r,t,o.RM),2==e&&(n=r.e+t+1);r.c.length<n;)r.c.push(0)}if(i=r.e,t=(s=r.c.join("")).length,2!=e&&(1==e||3==e&&n<=i||i<=o.NE||i>=o.PE))s=s.charAt(0)+(t>1?"."+s.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(i>0)if(++i>t)for(i-=t;i--;)s+="0";else i<t&&(s=s.slice(0,i)+"."+s.slice(i));else t>1&&(s=s.charAt(0)+"."+s.slice(1));return r.s<0&&(!f||4==e)?"-"+s:s}P.abs=function(){var r=new this.constructor(this);return r.s=1,r},P.cmp=function(r){var e,t=this,n=t.c,i=(r=new t.constructor(r)).c,s=t.s,o=r.s,f=t.e,c=r.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,f!=c)return f>c^e?1:-1;for(o=(f=n.length)<(c=i.length)?f:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return f==c?0:f>c^e?1:-1},P.div=function(r){var e=this,t=e.constructor,n=e.c,i=(r=new t(r)).c,s=e.s==r.s?1:-1,o=t.DP;if(o!==~~o||o<0||o>MAX_DP)throw Error(INVALID_DP);if(!i[0])throw Error(DIV_BY_ZERO);if(!n[0])return new t(0*s);var f,c,u,h,l,P=i.slice(),D=f=i.length,E=n.length,a=n.slice(0,f),g=a.length,N=r,I=N.c=[],p=0,w=o+(N.e=e.e-r.e)+1;for(N.s=s,s=w<0?0:w,P.unshift(0);g++<f;)a.push(0);do{for(u=0;u<10;u++){if(f!=(g=a.length))h=f>g?1:-1;else for(l=-1,h=0;++l<f;)if(i[l]!=a[l]){h=i[l]>a[l]?1:-1;break}if(!(h<0))break;for(c=g==f?i:P;g;){if(a[--g]<c[g]){for(l=g;l&&!a[--l];)a[l]=9;--a[l],a[g]+=10}a[g]-=c[g]}for(;!a[0];)a.shift()}I[p++]=h?u:++u,a[0]&&h?a[g]=n[D]||0:a=[n[D]]}while((D++<E||a[0]!==UNDEFINED)&&s--);return I[0]||1==p||(I.shift(),N.e--),p>w&&round(N,o,t.RM,a[0]!==UNDEFINED),N},P.eq=function(r){return!this.cmp(r)},P.gt=function(r){return this.cmp(r)>0},P.gte=function(r){return this.cmp(r)>-1},P.lt=function(r){return this.cmp(r)<0},P.lte=function(r){return this.cmp(r)<1},P.minus=P.sub=function(r){var e,t,n,i,s=this,o=s.constructor,f=s.s,c=(r=new o(r)).s;if(f!=c)return r.s=-c,s.plus(r);var u=s.c.slice(),h=s.e,l=r.c,P=r.e;if(!u[0]||!l[0])return l[0]?(r.s=-c,r):new o(u[0]?s:0);if(f=h-P){for((i=f<0)?(f=-f,n=u):(P=h,n=l),n.reverse(),c=f;c--;)n.push(0);n.reverse()}else for(t=((i=u.length<l.length)?u:l).length,f=c=0;c<t;c++)if(u[c]!=l[c]){i=u[c]<l[c];break}if(i&&(n=u,u=l,l=n,r.s=-r.s),(c=(t=l.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;t>f;){if(u[--t]<l[t]){for(e=t;e&&!u[--e];)u[e]=9;--u[e],u[t]+=10}u[t]-=l[t]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--P;return u[0]||(r.s=1,u=[P=0]),r.c=u,r.e=P,r},P.mod=function(r){var e,t=this,n=t.constructor,i=t.s,s=(r=new n(r)).s;if(!r.c[0])throw Error(DIV_BY_ZERO);return t.s=r.s=1,e=1==r.cmp(t),t.s=i,r.s=s,e?new n(t):(i=n.DP,s=n.RM,n.DP=n.RM=0,t=t.div(r),n.DP=i,n.RM=s,this.minus(t.times(r)))},P.plus=P.add=function(r){var e,t=this,n=t.constructor,i=t.s,s=(r=new n(r)).s;if(i!=s)return r.s=-s,t.minus(r);var o=t.e,f=t.c,c=r.e,u=r.c;if(!f[0]||!u[0])return u[0]?r:new n(f[0]?t:0*i);if(f=f.slice(),i=o-c){for(i>0?(c=o,e=u):(i=-i,e=f),e.reverse();i--;)e.push(0);e.reverse()}for(f.length-u.length<0&&(e=u,u=f,f=e),i=u.length,s=0;i;f[i]%=10)s=(f[--i]=f[i]+u[i]+s)/10|0;for(s&&(f.unshift(s),++c),i=f.length;0===f[--i];)f.pop();return r.c=f,r.e=c,r},P.pow=function(r){var e=this,t=new e.constructor(1),n=t,i=r<0;if(r!==~~r||r<-MAX_POWER||r>MAX_POWER)throw Error(INVALID+"exponent");for(i&&(r=-r);1&r&&(n=n.times(e)),r>>=1;)e=e.times(e);return i?t.div(n):n},P.round=function(r,e){var t=this.constructor;if(r===UNDEFINED)r=0;else if(r!==~~r||r<-MAX_DP||r>MAX_DP)throw Error(INVALID_DP);return round(new t(this),r,e===UNDEFINED?t.RM:e)},P.sqrt=function(){var r,e,t,n=this,i=n.constructor,s=n.s,o=n.e,f=new i(.5);if(!n.c[0])return new i(n);if(s<0)throw Error(NAME+"No square root");0===(s=Math.sqrt(n+""))||s===1/0?((e=n.c.join("")).length+o&1||(e+="0"),o=((o+1)/2|0)-(o<0||1&o),r=new i(((s=Math.sqrt(e))==1/0?"1e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):r=new i(s),o=r.e+(i.DP+=4);do{t=r,r=f.times(t.plus(n.div(t)))}while(t.c.slice(0,o).join("")!==r.c.slice(0,o).join(""));return round(r,i.DP-=4,i.RM)},P.times=P.mul=function(r){var e,t=this,n=t.constructor,i=t.c,s=(r=new n(r)).c,o=i.length,f=s.length,c=t.e,u=r.e;if(r.s=t.s==r.s?1:-1,!i[0]||!s[0])return new n(0*r.s);for(r.e=c+u,o<f&&(e=i,i=s,s=e,u=o,o=f,f=u),e=new Array(u=o+f);u--;)e[u]=0;for(c=f;c--;){for(f=0,u=o+c;u>c;)f=e[u]+s[c]*i[u-c-1]+f,e[u--]=f%10,f=f/10|0;e[u]=(e[u]+f)%10}for(f?++r.e:e.shift(),c=e.length;!e[--c];)e.pop();return r.c=e,r},P.toExponential=function(r){return stringify(this,1,r,r)},P.toFixed=function(r){return stringify(this,2,r,this.e+r)},P.toPrecision=function(r){return stringify(this,3,r,r-1)},P.toString=function(){return stringify(this)},P.valueOf=P.toJSON=function(){return stringify(this,4)};export var Big=_Big_();export default Big;