import{DialogForm}from"./form.min.js";export function DialogFormEntry(){return{view:function(e){let t=e.attrs.title,n=e.attrs.loading,a=e.attrs.defaultValue,r=e.attrs.onAccepted,o=e.attrs.onRejected;"string"!=typeof t&&(t=""),"boolean"!=typeof n&&(n=!1),"object"!=typeof a&&(a={}),"function"!=typeof r&&(r=()=>{}),"function"!=typeof o&&(o=()=>{});let l=[{name:"description",label:"Deskripsi",required:!0},{name:"amount",label:"Jumlah",type:"float",min:0,required:!0},{name:"entryDate",label:"Tanggal entri",type:"date",required:!0},{name:"entryType",label:"Jenis entry",type:"select",required:!0,choices:[{value:"1",caption:"Pemasukan"},{value:"2",caption:"Pengeluaran"},{value:"3",caption:"Transfer"}]}],i=a.entryDate;return null!=i&&""!==i||(a.entryDate=function(e){let t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${n}-${t}`}(new Date)),l.forEach((e,t)=>{let n=e.name;l[t].value=a[n]||""}),m(DialogForm,{title:t,loading:n,fields:l,onRejected:o,onAccepted(e){e.entryType=parseInt(e.entryType,10),r(e)}})}}}