import{Button,Dialog}from"../components/_components.min.js";import Cookies from"../libs/js-cookie.min.js";export function DialogError(){return{view:function(o){let t=o.attrs.message,e=o.attrs.loading,n=o.attrs.onAccepted;return"string"!=typeof t&&(t=""),"boolean"!=typeof e&&(e=!1),"function"!=typeof n&&(n=()=>{}),m(Dialog,{title:"Error",message:t,buttons:[m(Button,{class:"dialog__button",caption:"OK",loading:e,onclick(){if(t.startsWith("session has been expired"))return Cookies.remove("session-server"),localStorage.removeItem("account"),void(window.location.href="/login");n()}})]})},oncreate:function(o){o.dom.querySelector(".dialog__footer>button").focus()}}}