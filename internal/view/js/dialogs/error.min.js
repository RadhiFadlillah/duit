import{Button,Dialog}from"../components/_components.min.js";import{i18n}from"../i18n/i18n.min.js";import Cookies from"../libs/js-cookie.min.js";export function DialogError(){return{view:function(o){let t=o.attrs.message,n=o.attrs.loading,e=o.attrs.onAccepted;return"string"!=typeof t&&(t=""),"boolean"!=typeof n&&(n=!1),"function"!=typeof e&&(e=()=>{}),m(Dialog,{title:"Error",message:t,buttons:[m(Button,{class:"dialog__button",caption:i18n("OK"),loading:n,onclick(){if(t.startsWith("session has been expired"))return Cookies.remove("session-duit"),localStorage.removeItem("account"),void(window.location.href="/login");e()}})]})},oncreate:function(o){o.dom.querySelector(".dialog__footer>button").focus()}}}