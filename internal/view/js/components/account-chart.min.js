import{Button,LoadingSign}from"./_components.min.js";import{Big}from"../libs/big.min.js";import{mergeObject,formatNumber}from"../libs/utils.min.js";export function AccountChart(){let t={chart:null,nAccount:0,needToRefresh:!1};function e(e){if(0===t.nAccount)return"#DDD";return`hsl(${Math.round(360/t.nAccount)*e},100%,40%)`}return{view:function(n){let a=n.attrs.loading,r=n.attrs.class,o=n.attrs.year,c=n.attrs.accounts,i=n.attrs.min,s=n.attrs.max,l=n.attrs.series,u=n.attrs.onYearChanged;"boolean"!=typeof a&&(a=!1),"string"!=typeof r&&(r=""),"number"!=typeof o&&(o=(new Date).getFullYear()),Array.isArray(c)||(c=[]),"number"!=typeof i&&(i=void 0),"number"!=typeof s&&(s=void 0),Array.isArray(l)||(l=[]),"function"!=typeof u&&(u=()=>{}),t.nAccount=c.length;let h=0==c.length||0==l.length,g=[];if(a?g.push(m(LoadingSign,{class:"chart__loading-sign"})):h?g.push(m("p.chart__empty-message","Tidak ada data yang terdaftar")):(g.push(m(".chart__header",c.map((t,n)=>m("p.chart__legend",m("span.chart__legend__color",{style:`background:${e(n)}`}),t.name)))),chartContents.push(m(".chart__wrapper",m(".chart__content")))),!a){let e=(new Date).getFullYear(),n={iconOnly:!0,tooltipPosition:"top",class:"chart__footer__button"};g.push(m(".chart__footer",m(Button,mergeObject(n,{icon:"fa-angle-left",caption:"Tahun lalu",enabled:!t.loading,onclick(){u(t.year-1)}})),m("p.chart__footer__year",`${t.year}`),m(Button,mergeObject(n,{icon:"fa-angle-right",caption:"Tahun depan",enabled:!t.loading&&t.year<e,onclick(){u(t.year+1)}}))))}return m(".chart",{class:r},g)}}}